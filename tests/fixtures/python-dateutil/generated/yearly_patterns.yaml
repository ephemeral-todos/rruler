metadata:
  category: yearly-patterns
  description: Complex yearly patterns with multiple BY* rule combinations
  input_hash: c9d3c9f8b573cb44bbaba6ad7dbe80a9bb7fad33619b830ade2a23b0c2173aa7
  name: Yearly Recurrence Patterns
  python_dateutil_version: 2.9.0.post0
  script_version: 2.0.0
test_cases:
- expected_occurrences:
  - '2025-03-03T10:00:00+00:00'
  - '2026-03-02T10:00:00+00:00'
  input:
    dtstart: '2025-01-01T10:00:00'
    notes: First Monday of quarterly months (March, June, September, December)
    range:
      end: '2026-12-31T23:59:59'
      start: '2025-01-01T00:00:00'
    rrule: FREQ=YEARLY;BYMONTH=3,6,9,12;BYDAY=MO;BYSETPOS=1;COUNT=8
    timezone: UTC
    title: Quarterly monthly pattern
- expected_occurrences:
  - '2025-09-26T10:00:00+00:00'
  - '2026-09-25T10:00:00+00:00'
  - '2027-09-24T10:00:00+00:00'
  input:
    dtstart: '2025-01-01T10:00:00'
    notes: Last Friday of March and September each year
    range:
      end: '2027-12-31T23:59:59'
      start: '2025-01-01T00:00:00'
    rrule: FREQ=YEARLY;BYMONTH=3,9;BYDAY=FR;BYSETPOS=-1;COUNT=6
    timezone: UTC
    title: Bi-annual last Friday pattern
- expected_occurrences:
  - '2025-03-24T10:00:00+00:00'
  - '2025-06-23T10:00:00+00:00'
  - '2025-09-22T10:00:00+00:00'
  - '2025-12-22T10:00:00+00:00'
  - '2025-12-29T10:00:00+00:00'
  - '2026-03-23T10:00:00+00:00'
  - '2026-06-22T10:00:00+00:00'
  - '2026-09-21T10:00:00+00:00'
  - '2026-12-21T10:00:00+00:00'
  input:
    dtstart: '2025-01-01T10:00:00'
    notes: Monday of specific ISO weeks (quarterly distribution)
    range:
      end: '2026-12-31T23:59:59'
      start: '2025-01-01T00:00:00'
    rrule: FREQ=YEARLY;BYWEEKNO=1,13,26,39,52;BYDAY=MO;COUNT=10
    timezone: UTC
    title: Week number pattern
- expected_occurrences:
  - '2025-01-06T10:00:00+00:00'
  - '2025-10-27T10:00:00+00:00'
  input:
    dtstart: '2025-01-01T10:00:00'
    notes: First and last Monday of quarterly months in same year
    range:
      end: '2025-12-31T23:59:59'
      start: '2025-01-01T00:00:00'
    rrule: FREQ=YEARLY;BYMONTH=1,4,7,10;BYDAY=MO;BYSETPOS=1,-1;COUNT=4
    timezone: UTC
    title: Complex yearly filtering
